\documentclass[letterpaper,12pt]{article}
% \documentclass[a4paper,12pt]{article}
% twocolumn letterpaper 10pt 11pt twoside

% for other type sizes, 8, 9, 10, 11, 12, 14pt, 17pt, 20pt
% \documentclass[14pt]{extarticle}
% also extbook, extletter available
% \usepackage{extsizes}

\usepackage{times}
\usepackage{xspace}
%\usepackage{alltt}
\usepackage{fancyvrb}  % \begin{Verbatim}[fontsize=\small]
% or [fontsize=\footnotesize]

%\usepackage{latexsym}  % \LaTeX{} for LaTeX;  \LaTeXe{} for LaTeX2e
%\usepackage{mflogo}    % \MF{}  for METAFONT;  \MP for METAPOST
%\usepackage{url}       % \url{http://www.xrce.xerox.com/people/beesley}

%\usepackage{tipa}
%\include{ipamacros}  % my macros to allow same input for DA and IPA
%\usepackage{desalph}
%\usepackage{arabtex} % see usepackage{buck} and setcode{buck} below
%\usepackage{buck}
%\usepackage{mxedruli}

%\usepackage{epsfig}
%\usepackage{pslatex}  % make whole doc. use postscript fonts

% for more of these names, see Guide to LaTeX, p. 351
%\providecommand*{\abstractname}{}     % in case the style defines one
%\renewcommand*{\abstractname}{Transcriber notes}
%\renewcommand*{\figurename}{Figure}
%\renewcommand*{\tablename}{Table}
%\renewcommand*{\bibname}{Bibliography}
%\renewcommand*{\refname}{References}

\providecommand{\acro}{}\renewcommand{\acro}{\textsc}
\providecommand{\defin}{}\renewcommand{\defin}{\textsc}

\newcommand{\xmlelmt}{\texttt}
\newcommand{\xmlattr}{\texttt}
\newcommand{\key}{\textbf}
\newcommand{\translit}{\texttt}

% forced pagebreak
%\newpage

%\usepackage{ulem}
%    \uline{important}   underlined text
%    \uuline{urgent}     double-underlined text
%    \uwave{boat}        wavy underline
%    \sout{wrong}        line drawn through word (cross out, strike out)
%    \xout{removed}      marked over with //////.
%    {\em phasized\/}  | In LaTeX, by default, these are underlined; use
%    \emph{asized}     | \normalem or [normalem] to restore italics
%    \useunder{\uwave}{\bfseries}{\textbf}
%                        use wavy underline in place of bold face

%\usepackage{natbib}
%\usepackage[authoryear]{natbib}
%\citet for "textual" (in text, author's name clear) or
%\citep for "parenthetical" (author's name in parens)
%\citet[before][after]{key} e.g. \citet[see][p.~47]{foo:1997}
%\citet[after]{key}
%\citep  similar
%
%\citet*{key}  list all authors, not just et.al
%\citetext{priv.\ comm.} comes out as (priv. comm.)
%
%just the author or year
%\citeauthor{key} comes out as "Jones et al."
%\citeauthor*{key} comes out as "Jones, Sacco and Vanzetti"
%\citeyear{key}   comes out as 1990
%\citeyearpar{key}            (1990)
%
%Rare stuff:
%use \Citet and \Citep for exceptional forcing of initcap on names
%like 'della Robbia' when it appears first in a sentence.
%
%\citealt like \citet but without parens
%\citealp like \citep but without parens
%


% fancyheadings from The Book (old, obsolete, I think)
%\usepackage{fancyheadings}
%\pagestyle{fancyplain}
% remember the chapter title
%\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
%\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
%\lhead[\fancyplain{}{\small\scshape\thepage}]{\fancyplain{}{\small\scshape\rightmark}}
%\rhead[\fancyplain{}{\small\scshape\leftmark}]{\fancyplain{}{\small\scshape\thepage}}
%\cfoot{}

% new fancyhdr package
%\usepackage{fancyhdr}
%\pagestyle{fancy}
%\fancyhead{}

%% L/C/R denote left/center/right header (or footer) elements
%% E/O denote even/odd pages

%% \leftmark, \rightmark are chapter/section headings generated by the 
%% book document class

%\fancyhead[LE,RO]{\slshape\thepage}
%\fancyhead[RE]{\slshape \leftmark}
%\fancyhead[LO]{\slshape \rightmark}
%\fancyfoot[LO,LE]{\slshape Short Course on Asymptotics}
%\fancyfoot[C]{}
%\fancyfoot[RO,RE]{\slshape 7/15/2002}

% another example
%\fancyhead[LE]{\thepage}
%\fancyhead[CE]{\bfseries Beesley}
%\fancyfoot[CE]{First Draft}
%\fancyhead[CO]{\bfseries My Article Title}
%\fancyhead[RO]{\thepage}
%\fancyfoot[CO]{For Review and Editing Only}
%\renewcommand{\footrulewidth}{0.4pt}

% c, l, r, p{1cm}
%\begin{tabular}{}
%\hline
%   &  &  &   \\
%\hline
%\end{tabular}


% bigbox -- puts a box around a float
% for {figure}, {table} or {center}

\newdimen\boxfigwidth  % width of figure box

\def\bigbox{\begingroup
  % Figure out how wide to set the box in
  \boxfigwidth=\hsize
  \advance\boxfigwidth by -2\fboxrule
  \advance\boxfigwidth by -2\fboxsep
  \setbox4=\vbox\bgroup\hsize\boxfigwidth
  % Make an invisible hrule so that
  % the box is exactly this wide
  \hrule height0pt width\boxfigwidth\smallskip%
% Some environments like TABBING and other LIST environments
% use this measure of line size -
% \LINEWIDTH=\HSIZE-\LEFTMARGIN-\RIGHTMARGIN?
  \linewidth=\boxfigwidth
}
\def\endbigbox{\smallskip\egroup\fbox{\box4}\endgroup}


% example
% \begin{figure}
%   \begin{bigbox}
%     \begin{whatever}...\end{whatever}
%     \caption{}
%     \label{}
%   \end{bigbox}
% \end{figure}
% 
% N.B. put the caption and label inside the bigbox

%\usepackage{graphicx}
% Sample Graphics inclusion; needs graphicx package
%\begin{figure}[ht]
%\begin{bigbox}
%\centering
%\includegraphics{foobar.pdf}   # e.g. PNG, PDF or JPG, _not_ EPS
%\caption{}
%\label{lab:XXX}
%\end{bigbox}
%\end{figure}

%\pagestyle{empty}  % to suppress page numbering

% turn text upside down
%\reflectbox{\textipa{\textlhookp}}
% prevent line break:   \mbox{...}

\hyphenation{hy-po-cri-tical ri-bald}

%%%%%%%%%%%%%%%%%%%%  title %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{Precedence Question in Regular Expressions}
\author{Kenneth R.~Beesley}

% to override automatic "today" date
\date{31 October 2006}

%\usepackage{makeidx}
%\makeindex
% see \printindex below in the document
%\usepackage{showidx}   % print proofs showing indexed locations!!!

%%%%%%%%%%%%%%%%%%%%%% document %%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\maketitle

\begin{abstract}
A short write-up on the relative precedence of : (indicating
cross-product), Kleene * and +, and the \~{} (indicating
complement).  There are six ordering possibilities.  I'm learning
toward Alternative 4 (below) for the Kleene language.  Advice would be welcome.

\end{abstract}

\section{The Book2 Order}

In the code intended for the second printing of The Book, Lauri
informed me that the precedence is (from High to Low)

\begin{Verbatim}[fontsize=\small]
:
* +
~
\end{Verbatim}

\noindent
This has the following effects:

\begin{itemize}
\item
a:b+ = (a:b)+
\item
\~{}a:b = \~{}(a:b)   (which is semantically bad)
\item
\~{}a+ = \~{}(a+)
\end{itemize}


\section{Alternative 2}

Relative precedence from High to Low:

\begin{Verbatim}[fontsize=\small]
:
~
* +
\end{Verbatim}

\noindent
This has the following effects:

\begin{itemize}
\item
a:b+ = (a:b)+
\item
\~{}a:b = \~{}(a:b)   (which is semantically bad)
\item
\~{}a+ = (\~{}a)+
\end{itemize}


\section{Alternative 3}

Relative precedence from High to Low:

\begin{Verbatim}[fontsize=\small]
* +
:
~
\end{Verbatim}

\noindent
This has the following effects:

\begin{itemize}
\item
a:b+ =  a:(b+)
\item
\~{}a:b = \~{}(a:b) (which is semantically bad)
\item
\~{}a+ = \~{}(a+)
\end{itemize}

\section{Alternative 4}

Relative precedence from High to Low:

\begin{Verbatim}[fontsize=\small]
* +
~
:
\end{Verbatim}

\noindent
This has the following effects:

\begin{itemize}
\item
a:b+ =  a:(b+)
\item
\~{}a:b = (\~{}a):b
\item
\~{}a+ = \~{}(a+)
\end{itemize}

\noindent
N.B. that this also makes \~{}.* come out nicely as \~{}(.*), the
Universal Language.  It puts the unary operators before the binary
operators, as does Alternative 6.


\section{Alternative 5}

Relative precedence from High to Low:

\begin{Verbatim}[fontsize=\small]
~
:
* +
\end{Verbatim}

\noindent
This has the following effects:

\begin{itemize}
\item
a:b+ =  (a:b)+
\item
\~{}a:b = (\~{}a):b
\item
\~{}a+ = (\~{}a)+
\end{itemize}

\section{Alternative 6}

Relative precedence from High to Low:

\begin{Verbatim}[fontsize=\small]
~
* +
:
\end{Verbatim}

\noindent
This has the following effects:

\begin{itemize}
\item
a:b+ =  a:(b+)
\item
\~{}a:b = (\~{}a):b
\item
\~{}a+ = (\~{}a)+
\end{itemize}


\end{document}

